<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Portal</title>
    <style>
        body { font-family: sans-serif; text-align: center; background: #121212; color: white; }
        .game-list { display: flex; flex-wrap: wrap; justify-content: center; gap: 15px; margin-top: 20px; }
        .game-card { background: #1e1e1e; padding: 20px; border-radius: 8px; cursor: pointer; border: 1px solid #333; transition: 0.3s; width: 200px; }
        .game-card:hover { background: #333; border-color: #007bff; }
    </style>
</head>
<body>
    <h1>Game Collection</h1>
    <div id="games" class="game-list">Loading games...</div>

    <script>
        const REPO_URL = "api.github.com";

        async function loadGames() {
            try {
                const response = await fetch(REPO_URL);
                const files = await response.json();
                const container = document.getElementById('games');
                container.innerHTML = "";

                files.forEach(file => {
                    if (file.name.endsWith('.html') && file.name !== "index.html") {
                        const card = document.createElement('div');
                        card.className = 'game-card';
                        card.innerText = file.name.replace('.html', '');
                        card.onclick = () => launchGame(file.download_url);
                        container.appendChild(card);
                    }
                });
            } catch (err) {
                document.getElementById('games').innerText = "Error loading games.";
            }
        }

        async function launchGame(url) {
            const response = await fetch(url);
            const code = await response.text();
            
            // Open about:blank and write game code
            const newWindow = window.open('about:blank', '_blank');
            newWindow.document.open();
            newWindow.document.write(code);
            newWindow.document.close();
        }

        loadGames();
    </script>
</body>
</html>
