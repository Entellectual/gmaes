<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sigma Arcade</title>
    <style>
        :root {
            --galaxy-green: #00ff88;
            --deep-void: #020617;
            --nebula-glow: rgba(0, 255, 136, 0.15);
        }

        body {
            margin: 0;
            background-color: var(--deep-void);
            color: #e2e8f0;
            font-family: 'Inter', -apple-system, sans-serif;
            display: flex; flex-direction: column; align-items: center; min-height: 100vh;
        }

        .background-fx {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1;
            background: radial-gradient(circle at 20% 30%, #064e3b 0%, transparent 40%),
                        radial-gradient(circle at 80% 70%, #064e3b 0%, transparent 40%);
            filter: blur(80px); opacity: 0.4;
        }

        header { text-align: center; padding: 60px 20px 20px; }
        h1 {
            font-size: 3.5rem; margin: 0;
            background: linear-gradient(to bottom right, #fff, var(--galaxy-green));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 15px rgba(0, 255, 136, 0.4));
        }

        .game-grid {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 25px; width: 90%; max-width: 1200px; padding-bottom: 100px;
        }

        .game-card {
            aspect-ratio: 1 / 1; background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 12px;
            position: relative; cursor: pointer; overflow: hidden;
            transition: 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            display: flex; flex-direction: column; justify-content: flex-end;
        }

        .game-card:hover {
            transform: scale(1.05); border-color: var(--galaxy-green);
            box-shadow: 0 0 30px var(--nebula-glow);
        }

        .placeholder-img {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background-color: #064e3b; opacity: 0.6;
        }

        .game-label {
            z-index: 2; background: rgba(15, 23, 42, 0.9); padding: 15px;
            text-align: center; color: var(--galaxy-green); font-weight: bold;
            text-transform: capitalize; border-top: 1px solid rgba(0, 255, 136, 0.2);
        }

        #loading { color: var(--galaxy-green); margin-top: 50px; font-weight: bold; }
    </style>
</head>
<body>

    <div class="background-fx"></div>

    <header>
        <h1>Sigma Arcade</h1>
        <p style="color: #94a3b8; letter-spacing: 2px;">AUTOMATED GALAXY PORTAL</p>
    </header>

    <div id="loading">Scanning Nebula for Games...</div>
    <main class="game-grid" id="grid"></main>

    <script>
        const gameList = [
            '1v1.lol', '2048', 'Agar.io', 'Bacon May Die', 'Basket Random', 'Basketball Stars',
            'Bitlife', 'Deadly Descent', 'Deepest Sword', 'Draw Climber', 'Drift Boss',
            'Drift Hunters', 'Drive Mad', 'Escape Road', 'FNAF', 'GTA 2', 'Geometry Dash',
            'Gran Turismo', 'Gun Mayhem', 'Happy Wheels', 'Level Devil', 'Madalin Stunt Cars 2',
            'Minecraft 1.8', 'Monkey Mart', 'MotoX3M', 'Paper.io', 'Pixel Shooter',
            'Polytrack', 'Retro Bowl', 'Retro Bowl College', 'Slither.io', 'Slope',
            'Snow Rider 3D', 'Snowball.io', 'Space Waves', 'Subway Surfers', 'Tomb of the Mask'
        ];

        function initArcade() {
            const grid = document.getElementById('grid');
            const loader = document.getElementById('loading');
            
            loader.style.display = 'none';

            gameList.forEach(gameName => {
                const card = document.createElement('div');
                card.className = 'game-card';
                
                // Pass the folder name directly
                card.onclick = () => launchGame(gameName);
                
                const displayName = gameName.replace(/-/g, ' ').replace(/_/g, ' ');

                card.innerHTML = `
                    <div class="placeholder-img"></div>
                    <div class="game-label">${displayName}</div>
                `;
                grid.appendChild(card);
            });
        }

        function launchGame(folderName) {
            const win = window.open('about:blank', '_blank');
            if (!win) {
                alert('Please allow popups to play games!');
                return;
            }

            win.document.title = folderName.toUpperCase();

            const iframe = win.document.createElement('iframe');
            
            // Build absolute URL. Adding the trailing slash / is critical for Vercel
            iframe.src = window.location.origin + '/' + folderName + '/';
            
            iframe.style.cssText = "position:fixed; top:0; left:0; width:100vw; height:100vh; border:none; margin:0; padding:0; overflow:hidden;";
            
            win.document.body.style.margin = '0';
            win.document.body.appendChild(iframe);
        }

        initArcade();
    </script>
</body>
</html>
